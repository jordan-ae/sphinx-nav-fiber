import{v as xn,R as Bt,w as rt,x as Ct,y as Ve,z as Dt,D as Ft,E as ht,G as N,H as Gt,r as T,J as jt,j as k,K as ut,L as Lt,M as yn,N as bt,O as dt,P as we,S as _e,U as mn,V as be,X as Xe,e as Ye,c as $t,s as V,g as it,F as pt,B as Ke,C as Ze,i as wn,Y as _n,u as bn,Z as En,$ as Pn,b as Qe,A as kn,a as Tn,a0 as Sn}from"./index-9c987de8.js";const Cn=t=>{const[n,e,r]=t.split(":"),i=parseInt(n,10),o=parseInt(e,10),s=parseInt(r,10);return i*3600+o*60+s};function Ee(...t){return t.reduce((n,e)=>e==null?n:function(...i){n.apply(this,i),e.apply(this,i)},()=>{})}function Nn(t,n=166){let e;function r(...i){const o=()=>{t.apply(this,i)};clearTimeout(e),e=setTimeout(o,n)}return r.clear=()=>{clearTimeout(e)},r}function ot(t){return t&&t.ownerDocument||document}function It(t){return ot(t).defaultView||window}function Rn(t){const n=t.documentElement.clientWidth;return Math.abs(window.innerWidth-n)}const Mn=t=>{let n;return t<1?n=5.11916*t**2:n=4.5*Math.log(t+1)+2,(n/100).toFixed(2)},Pe=Mn,ke={disabled:!1};var $n=function(n){return n.scrollTop},Nt="unmounted",lt="exited",ct="entering",_t="entered",ie="exiting",at=function(t){xn(n,t);function n(r,i){var o;o=t.call(this,r,i)||this;var s=i,a=s&&!s.isMounting?r.enter:r.appear,l;return o.appearStatus=null,r.in?a?(l=lt,o.appearStatus=ct):l=_t:r.unmountOnExit||r.mountOnEnter?l=Nt:l=lt,o.state={status:l},o.nextCallback=null,o}n.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===Nt?{status:lt}:null};var e=n.prototype;return e.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},e.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==ct&&s!==_t&&(o=ct):(s===ct||s===_t)&&(o=ie)}this.updateStatus(!1,o)},e.componentWillUnmount=function(){this.cancelNextCallback()},e.getTimeouts=function(){var i=this.props.timeout,o,s,a;return o=s=a=i,i!=null&&typeof i!="number"&&(o=i.exit,s=i.enter,a=i.appear!==void 0?i.appear:s),{exit:o,enter:s,appear:a}},e.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===ct){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:Bt.findDOMNode(this);s&&$n(s)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===lt&&this.setState({status:Nt})},e.performEnter=function(i){var o=this,s=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[Bt.findDOMNode(this),a],u=l[0],c=l[1],f=this.getTimeouts(),p=a?f.appear:f.enter;if(!i&&!s||ke.disabled){this.safeSetState({status:_t},function(){o.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:ct},function(){o.props.onEntering(u,c),o.onTransitionEnd(p,function(){o.safeSetState({status:_t},function(){o.props.onEntered(u,c)})})})},e.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:Bt.findDOMNode(this);if(!o||ke.disabled){this.safeSetState({status:lt},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:ie},function(){i.props.onExiting(a),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:lt},function(){i.props.onExited(a)})})})},e.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},e.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},e.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,o.nextCallback=null,i(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},e.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=this.props.nodeRef?this.props.nodeRef.current:Bt.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}i!=null&&setTimeout(this.nextCallback,i)},e.render=function(){var i=this.state.status;if(i===Nt)return null;var o=this.props,s=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var a=rt(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Ct.createElement(Ve.Provider,{value:null},typeof s=="function"?s(i,a):Ct.cloneElement(Ct.Children.only(s),a))},n}(Ct.Component);at.contextType=Ve;at.propTypes={};function wt(){}at.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:wt,onEntering:wt,onEntered:wt,onExit:wt,onExiting:wt,onExited:wt};at.UNMOUNTED=Nt;at.EXITED=lt;at.ENTERING=ct;at.ENTERED=_t;at.EXITING=ie;const Je=at,tn=t=>t.scrollTop;function Wt(t,n){var e,r;const{timeout:i,easing:o,style:s={}}=t;return{duration:(e=s.transitionDuration)!=null?e:typeof i=="number"?i:i[n.mode]||0,easing:(r=s.transitionTimingFunction)!=null?r:typeof o=="object"?o[n.mode]:o,delay:s.transitionDelay}}function zn(t){return Dt("MuiPaper",t)}Ft("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const In=["className","component","elevation","square","variant"],An=t=>{const{square:n,elevation:e,variant:r,classes:i}=t,o={root:["root",r,!n&&"rounded",r==="elevation"&&`elevation${e}`]};return Lt(o,zn,i)},On=ht("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,n)=>{const{ownerState:e}=t;return[n.root,n[e.variant],!e.square&&n.rounded,e.variant==="elevation"&&n[`elevation${e.elevation}`]]}})(({theme:t,ownerState:n})=>{var e;return N({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!n.square&&{borderRadius:t.shape.borderRadius},n.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},n.variant==="elevation"&&N({boxShadow:(t.vars||t).shadows[n.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${Gt("#fff",Pe(n.elevation))}, ${Gt("#fff",Pe(n.elevation))})`},t.vars&&{backgroundImage:(e=t.vars.overlays)==null?void 0:e[n.elevation]}))}),Dn=T.forwardRef(function(n,e){const r=jt({props:n,name:"MuiPaper"}),{className:i,component:o="div",elevation:s=1,square:a=!1,variant:l="elevation"}=r,u=rt(r,In),c=N({},r,{component:o,elevation:s,square:a,variant:l}),f=An(c);return k.jsx(On,N({as:o,ownerState:c,className:ut(f.root,i),ref:e},u))}),Fn=Dn;function jn(t){return Dt("MuiIconButton",t)}const Ln=Ft("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),Bn=Ln,Hn=["edge","children","className","color","disabled","disableFocusRipple","size"],qn=t=>{const{classes:n,disabled:e,color:r,edge:i,size:o}=t,s={root:["root",e&&"disabled",r!=="default"&&`color${bt(r)}`,i&&`edge${bt(i)}`,`size${bt(o)}`]};return Lt(s,jn,n)},Gn=ht(yn,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,n)=>{const{ownerState:e}=t;return[n.root,e.color!=="default"&&n[`color${bt(e.color)}`],e.edge&&n[`edge${bt(e.edge)}`],n[`size${bt(e.size)}`]]}})(({theme:t,ownerState:n})=>N({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Gt(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},n.edge==="start"&&{marginLeft:n.size==="small"?-3:-12},n.edge==="end"&&{marginRight:n.size==="small"?-3:-12}),({theme:t,ownerState:n})=>{var e;const r=(e=(t.vars||t).palette)==null?void 0:e[n.color];return N({},n.color==="inherit"&&{color:"inherit"},n.color!=="inherit"&&n.color!=="default"&&N({color:r==null?void 0:r.main},!n.disableRipple&&{"&:hover":N({},r&&{backgroundColor:t.vars?`rgba(${r.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Gt(r.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),n.size==="small"&&{padding:5,fontSize:t.typography.pxToRem(18)},n.size==="large"&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${Bn.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})}),Wn=T.forwardRef(function(n,e){const r=jt({props:n,name:"MuiIconButton"}),{edge:i=!1,children:o,className:s,color:a="default",disabled:l=!1,disableFocusRipple:u=!1,size:c="medium"}=r,f=rt(r,Hn),p=N({},r,{edge:i,color:a,disabled:l,disableFocusRipple:u,size:c}),g=qn(p);return k.jsx(Gn,N({className:ut(g.root,s),centerRipple:!0,focusRipple:!u,disabled:l,ref:e,ownerState:p},f,{children:o}))}),en=Wn;function nn(t){return typeof t=="string"}function Un(t,n,e){return t===void 0||nn(t)?n:N({},n,{ownerState:N({},n.ownerState,e)})}function rn(t,n=[]){if(t===void 0)return{};const e={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!n.includes(r)).forEach(r=>{e[r]=t[r]}),e}function Vn(t,n,e){return typeof t=="function"?t(n,e):t}function on(t){var n,e,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(n=0;n<t.length;n++)t[n]&&(e=on(t[n]))&&(r&&(r+=" "),r+=e);else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Te(){for(var t,n,e=0,r="";e<arguments.length;)(t=arguments[e++])&&(n=on(t))&&(r&&(r+=" "),r+=n);return r}function Se(t){if(t===void 0)return{};const n={};return Object.keys(t).filter(e=>!(e.match(/^on[A-Z]/)&&typeof t[e]=="function")).forEach(e=>{n[e]=t[e]}),n}function Xn(t){const{getSlotProps:n,additionalProps:e,externalSlotProps:r,externalForwardedProps:i,className:o}=t;if(!n){const g=Te(e==null?void 0:e.className,o,i==null?void 0:i.className,r==null?void 0:r.className),d=N({},e==null?void 0:e.style,i==null?void 0:i.style,r==null?void 0:r.style),w=N({},e,i,r);return g.length>0&&(w.className=g),Object.keys(d).length>0&&(w.style=d),{props:w,internalRef:void 0}}const s=rn(N({},i,r)),a=Se(r),l=Se(i),u=n(s),c=Te(u==null?void 0:u.className,e==null?void 0:e.className,o,i==null?void 0:i.className,r==null?void 0:r.className),f=N({},u==null?void 0:u.style,e==null?void 0:e.style,i==null?void 0:i.style,r==null?void 0:r.style),p=N({},u,e,l,a);return c.length>0&&(p.className=c),Object.keys(f).length>0&&(p.style=f),{props:p,internalRef:u.ref}}const Yn=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function Ut(t){var n;const{elementType:e,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:o=!1}=t,s=rt(t,Yn),a=o?{}:Vn(r,i),{props:l,internalRef:u}=Xn(N({},s,{externalSlotProps:a})),c=dt(u,a==null?void 0:a.ref,(n=t.additionalProps)==null?void 0:n.ref);return Un(e,N({},l,{ref:c}),i)}const Kn=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Zn(t){const n=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(n)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:n}function Qn(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const n=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let e=n(`[name="${t.name}"]:checked`);return e||(e=n(`[name="${t.name}"]`)),e!==t}function Jn(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||Qn(t))}function tr(t){const n=[],e=[];return Array.from(t.querySelectorAll(Kn)).forEach((r,i)=>{const o=Zn(r);o===-1||!Jn(r)||(o===0?n.push(r):e.push({documentOrder:i,tabIndex:o,node:r}))}),e.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(n)}function er(){return!0}function nr(t){const{children:n,disableAutoFocus:e=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:o=tr,isEnabled:s=er,open:a}=t,l=T.useRef(!1),u=T.useRef(null),c=T.useRef(null),f=T.useRef(null),p=T.useRef(null),g=T.useRef(!1),d=T.useRef(null),w=dt(n.ref,d),y=T.useRef(null);T.useEffect(()=>{!a||!d.current||(g.current=!e)},[e,a]),T.useEffect(()=>{if(!a||!d.current)return;const v=ot(d.current);return d.current.contains(v.activeElement)||(d.current.hasAttribute("tabIndex")||d.current.setAttribute("tabIndex","-1"),g.current&&d.current.focus()),()=>{i||(f.current&&f.current.focus&&(l.current=!0,f.current.focus()),f.current=null)}},[a]),T.useEffect(()=>{if(!a||!d.current)return;const v=ot(d.current),m=E=>{y.current=E,!(r||!s()||E.key!=="Tab")&&v.activeElement===d.current&&E.shiftKey&&(l.current=!0,c.current&&c.current.focus())},x=()=>{const E=d.current;if(E===null)return;if(!v.hasFocus()||!s()||l.current){l.current=!1;return}if(E.contains(v.activeElement)||r&&v.activeElement!==u.current&&v.activeElement!==c.current)return;if(v.activeElement!==p.current)p.current=null;else if(p.current!==null)return;if(!g.current)return;let P=[];if((v.activeElement===u.current||v.activeElement===c.current)&&(P=o(d.current)),P.length>0){var S,$;const I=!!((S=y.current)!=null&&S.shiftKey&&(($=y.current)==null?void 0:$.key)==="Tab"),C=P[0],L=P[P.length-1];typeof C!="string"&&typeof L!="string"&&(I?L.focus():C.focus())}else E.focus()};v.addEventListener("focusin",x),v.addEventListener("keydown",m,!0);const b=setInterval(()=>{v.activeElement&&v.activeElement.tagName==="BODY"&&x()},50);return()=>{clearInterval(b),v.removeEventListener("focusin",x),v.removeEventListener("keydown",m,!0)}},[e,r,i,s,a,o]);const h=v=>{f.current===null&&(f.current=v.relatedTarget),g.current=!0,p.current=v.target;const m=n.props.onFocus;m&&m(v)},_=v=>{f.current===null&&(f.current=v.relatedTarget),g.current=!0};return k.jsxs(T.Fragment,{children:[k.jsx("div",{tabIndex:a?0:-1,onFocus:_,ref:u,"data-testid":"sentinelStart"}),T.cloneElement(n,{ref:w,onFocus:h}),k.jsx("div",{tabIndex:a?0:-1,onFocus:_,ref:c,"data-testid":"sentinelEnd"})]})}function rr(t){return typeof t=="function"?t():t}const ir=T.forwardRef(function(n,e){const{children:r,container:i,disablePortal:o=!1}=n,[s,a]=T.useState(null),l=dt(T.isValidElement(r)?r.ref:null,e);if(we(()=>{o||a(rr(i)||document.body)},[i,o]),we(()=>{if(s&&!o)return _e(e,s),()=>{_e(e,null)}},[e,s,o]),o){if(T.isValidElement(r)){const u={ref:l};return T.cloneElement(r,u)}return k.jsx(T.Fragment,{children:r})}return k.jsx(T.Fragment,{children:s&&mn.createPortal(r,s)})});function or(t){const n=ot(t);return n.body===t?It(t).innerWidth>n.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function zt(t,n){n?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function Ce(t){return parseInt(It(t).getComputedStyle(t).paddingRight,10)||0}function sr(t){const e=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName)!==-1,r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return e||r}function Ne(t,n,e,r,i){const o=[n,e,...r];[].forEach.call(t.children,s=>{const a=o.indexOf(s)===-1,l=!sr(s);a&&l&&zt(s,i)})}function Qt(t,n){let e=-1;return t.some((r,i)=>n(r)?(e=i,!0):!1),e}function ar(t,n){const e=[],r=t.container;if(!n.disableScrollLock){if(or(r)){const s=Rn(ot(r));e.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${Ce(r)+s}px`;const a=ot(r).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{e.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${Ce(l)+s}px`})}let o;if(r.parentNode instanceof DocumentFragment)o=ot(r).body;else{const s=r.parentElement,a=It(r);o=(s==null?void 0:s.nodeName)==="HTML"&&a.getComputedStyle(s).overflowY==="scroll"?s:r}e.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return()=>{e.forEach(({value:o,el:s,property:a})=>{o?s.style.setProperty(a,o):s.style.removeProperty(a)})}}function lr(t){const n=[];return[].forEach.call(t.children,e=>{e.getAttribute("aria-hidden")==="true"&&n.push(e)}),n}class cr{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(n,e){let r=this.modals.indexOf(n);if(r!==-1)return r;r=this.modals.length,this.modals.push(n),n.modalRef&&zt(n.modalRef,!1);const i=lr(e);Ne(e,n.mount,n.modalRef,i,!0);const o=Qt(this.containers,s=>s.container===e);return o!==-1?(this.containers[o].modals.push(n),r):(this.containers.push({modals:[n],container:e,restore:null,hiddenSiblings:i}),r)}mount(n,e){const r=Qt(this.containers,o=>o.modals.indexOf(n)!==-1),i=this.containers[r];i.restore||(i.restore=ar(i,e))}remove(n,e=!0){const r=this.modals.indexOf(n);if(r===-1)return r;const i=Qt(this.containers,s=>s.modals.indexOf(n)!==-1),o=this.containers[i];if(o.modals.splice(o.modals.indexOf(n),1),this.modals.splice(r,1),o.modals.length===0)o.restore&&o.restore(),n.modalRef&&zt(n.modalRef,e),Ne(o.container,n.mount,n.modalRef,o.hiddenSiblings,!1),this.containers.splice(i,1);else{const s=o.modals[o.modals.length-1];s.modalRef&&zt(s.modalRef,!1)}return r}isTopModal(n){return this.modals.length>0&&this.modals[this.modals.length-1]===n}}function ur(t){return typeof t=="function"?t():t}function fr(t){return t?t.props.hasOwnProperty("in"):!1}const hr=new cr;function dr(t){const{container:n,disableEscapeKeyDown:e=!1,disableScrollLock:r=!1,manager:i=hr,closeAfterTransition:o=!1,onTransitionEnter:s,onTransitionExited:a,children:l,onClose:u,open:c,rootRef:f}=t,p=T.useRef({}),g=T.useRef(null),d=T.useRef(null),w=dt(d,f),[y,h]=T.useState(!c),_=fr(l);let v=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(v=!1);const m=()=>ot(g.current),x=()=>(p.current.modalRef=d.current,p.current.mount=g.current,p.current),b=()=>{i.mount(x(),{disableScrollLock:r}),d.current&&(d.current.scrollTop=0)},E=be(()=>{const M=ur(n)||m().body;i.add(x(),M),d.current&&b()}),P=T.useCallback(()=>i.isTopModal(x()),[i]),S=be(M=>{g.current=M,M&&(c&&P()?b():d.current&&zt(d.current,v))}),$=T.useCallback(()=>{i.remove(x(),v)},[v,i]);T.useEffect(()=>()=>{$()},[$]),T.useEffect(()=>{c?E():(!_||!o)&&$()},[c,$,_,o,E]);const I=M=>z=>{var G;(G=M.onKeyDown)==null||G.call(M,z),!(z.key!=="Escape"||z.which===229||!P())&&(e||(z.stopPropagation(),u&&u(z,"escapeKeyDown")))},C=M=>z=>{var G;(G=M.onClick)==null||G.call(M,z),z.target===z.currentTarget&&u&&u(z,"backdropClick")};return{getRootProps:(M={})=>{const z=rn(t);delete z.onTransitionEnter,delete z.onTransitionExited;const G=N({},z,M);return N({role:"presentation"},G,{onKeyDown:I(G),ref:w})},getBackdropProps:(M={})=>{const z=M;return N({"aria-hidden":!0},z,{onClick:C(z),open:c})},getTransitionProps:()=>{const M=()=>{h(!1),s&&s()},z=()=>{h(!0),a&&a(),o&&$()};return{onEnter:Ee(M,l==null?void 0:l.props.onEnter),onExited:Ee(z,l==null?void 0:l.props.onExited)}},rootRef:w,portalRef:S,isTopModal:P,exited:y,hasTransition:_}}const pr=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],gr={entering:{opacity:1},entered:{opacity:1}},vr=T.forwardRef(function(n,e){const r=Xe(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:s=!0,children:a,easing:l,in:u,onEnter:c,onEntered:f,onEntering:p,onExit:g,onExited:d,onExiting:w,style:y,timeout:h=i,TransitionComponent:_=Je}=n,v=rt(n,pr),m=T.useRef(null),x=dt(m,a.ref,e),b=A=>R=>{if(A){const M=m.current;R===void 0?A(M):A(M,R)}},E=b(p),P=b((A,R)=>{tn(A);const M=Wt({style:y,timeout:h,easing:l},{mode:"enter"});A.style.webkitTransition=r.transitions.create("opacity",M),A.style.transition=r.transitions.create("opacity",M),c&&c(A,R)}),S=b(f),$=b(w),I=b(A=>{const R=Wt({style:y,timeout:h,easing:l},{mode:"exit"});A.style.webkitTransition=r.transitions.create("opacity",R),A.style.transition=r.transitions.create("opacity",R),g&&g(A)}),C=b(d),L=A=>{o&&o(m.current,A)};return k.jsx(_,N({appear:s,in:u,nodeRef:m,onEnter:P,onEntered:S,onEntering:E,onExit:I,onExited:C,onExiting:$,addEndListener:L,timeout:h},v,{children:(A,R)=>T.cloneElement(a,N({style:N({opacity:0,visibility:A==="exited"&&!u?"hidden":void 0},gr[A],y,a.props.style),ref:x},R))}))}),xr=vr;function yr(t){return Dt("MuiBackdrop",t)}Ft("MuiBackdrop",["root","invisible"]);const mr=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],wr=t=>{const{classes:n,invisible:e}=t;return Lt({root:["root",e&&"invisible"]},yr,n)},_r=ht("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,n)=>{const{ownerState:e}=t;return[n.root,e.invisible&&n.invisible]}})(({ownerState:t})=>N({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})),br=T.forwardRef(function(n,e){var r,i,o;const s=jt({props:n,name:"MuiBackdrop"}),{children:a,className:l,component:u="div",components:c={},componentsProps:f={},invisible:p=!1,open:g,slotProps:d={},slots:w={},TransitionComponent:y=xr,transitionDuration:h}=s,_=rt(s,mr),v=N({},s,{component:u,invisible:p}),m=wr(v),x=(r=d.root)!=null?r:f.root;return k.jsx(y,N({in:g,timeout:h},_,{children:k.jsx(_r,N({"aria-hidden":!0},x,{as:(i=(o=w.root)!=null?o:c.Root)!=null?i:u,className:ut(m.root,l,x==null?void 0:x.className),ownerState:N({},v,x==null?void 0:x.ownerState),classes:m,ref:e,children:a}))}))}),Er=br;function Pr(t){return Dt("MuiModal",t)}Ft("MuiModal",["root","hidden","backdrop"]);const kr=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],Tr=t=>{const{open:n,exited:e,classes:r}=t;return Lt({root:["root",!n&&e&&"hidden"],backdrop:["backdrop"]},Pr,r)},Sr=ht("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,n)=>{const{ownerState:e}=t;return[n.root,!e.open&&e.exited&&n.hidden]}})(({theme:t,ownerState:n})=>N({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!n.open&&n.exited&&{visibility:"hidden"})),Cr=ht(Er,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,n)=>n.backdrop})({zIndex:-1}),Nr=T.forwardRef(function(n,e){var r,i,o,s,a,l;const u=jt({name:"MuiModal",props:n}),{BackdropComponent:c=Cr,BackdropProps:f,className:p,closeAfterTransition:g=!1,children:d,container:w,component:y,components:h={},componentsProps:_={},disableAutoFocus:v=!1,disableEnforceFocus:m=!1,disableEscapeKeyDown:x=!1,disablePortal:b=!1,disableRestoreFocus:E=!1,disableScrollLock:P=!1,hideBackdrop:S=!1,keepMounted:$=!1,onBackdropClick:I,open:C,slotProps:L,slots:A}=u,R=rt(u,kr),M=N({},u,{closeAfterTransition:g,disableAutoFocus:v,disableEnforceFocus:m,disableEscapeKeyDown:x,disablePortal:b,disableRestoreFocus:E,disableScrollLock:P,hideBackdrop:S,keepMounted:$}),{getRootProps:z,getBackdropProps:G,getTransitionProps:F,portalRef:Y,isTopModal:B,exited:H,hasTransition:J}=dr(N({},M,{rootRef:e})),U=N({},M,{exited:H}),q=Tr(U),gt={};if(d.props.tabIndex===void 0&&(gt.tabIndex="-1"),J){const{onEnter:O,onExited:W}=F();gt.onEnter=O,gt.onExited=W}const vt=(r=(i=A==null?void 0:A.root)!=null?i:h.Root)!=null?r:Sr,Pt=(o=(s=A==null?void 0:A.backdrop)!=null?s:h.Backdrop)!=null?o:c,kt=(a=L==null?void 0:L.root)!=null?a:_.root,xt=(l=L==null?void 0:L.backdrop)!=null?l:_.backdrop,Kt=Ut({elementType:vt,externalSlotProps:kt,externalForwardedProps:R,getSlotProps:z,additionalProps:{ref:e,as:y},ownerState:U,className:ut(p,kt==null?void 0:kt.className,q==null?void 0:q.root,!U.open&&U.exited&&(q==null?void 0:q.hidden))}),Zt=Ut({elementType:Pt,externalSlotProps:xt,additionalProps:f,getSlotProps:O=>G(N({},O,{onClick:W=>{I&&I(W),O!=null&&O.onClick&&O.onClick(W)}})),className:ut(xt==null?void 0:xt.className,f==null?void 0:f.className,q==null?void 0:q.backdrop),ownerState:U});return!$&&!C&&(!J||H)?null:k.jsx(ir,{ref:Y,container:w,disablePortal:b,children:k.jsxs(vt,N({},Kt,{children:[!S&&c?k.jsx(Pt,N({},Zt)):null,k.jsx(nr,{disableEnforceFocus:m,disableAutoFocus:v,disableRestoreFocus:E,isEnabled:B,open:C,children:T.cloneElement(d,gt)})]}))})}),Rr=Nr,Mr=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function oe(t){return`scale(${t}, ${t**2})`}const $r={entering:{opacity:1,transform:oe(1)},entered:{opacity:1,transform:"none"}},Jt=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),sn=T.forwardRef(function(n,e){const{addEndListener:r,appear:i=!0,children:o,easing:s,in:a,onEnter:l,onEntered:u,onEntering:c,onExit:f,onExited:p,onExiting:g,style:d,timeout:w="auto",TransitionComponent:y=Je}=n,h=rt(n,Mr),_=T.useRef(),v=T.useRef(),m=Xe(),x=T.useRef(null),b=dt(x,o.ref,e),E=R=>M=>{if(R){const z=x.current;M===void 0?R(z):R(z,M)}},P=E(c),S=E((R,M)=>{tn(R);const{duration:z,delay:G,easing:F}=Wt({style:d,timeout:w,easing:s},{mode:"enter"});let Y;w==="auto"?(Y=m.transitions.getAutoHeightDuration(R.clientHeight),v.current=Y):Y=z,R.style.transition=[m.transitions.create("opacity",{duration:Y,delay:G}),m.transitions.create("transform",{duration:Jt?Y:Y*.666,delay:G,easing:F})].join(","),l&&l(R,M)}),$=E(u),I=E(g),C=E(R=>{const{duration:M,delay:z,easing:G}=Wt({style:d,timeout:w,easing:s},{mode:"exit"});let F;w==="auto"?(F=m.transitions.getAutoHeightDuration(R.clientHeight),v.current=F):F=M,R.style.transition=[m.transitions.create("opacity",{duration:F,delay:z}),m.transitions.create("transform",{duration:Jt?F:F*.666,delay:Jt?z:z||F*.333,easing:G})].join(","),R.style.opacity=0,R.style.transform=oe(.75),f&&f(R)}),L=E(p),A=R=>{w==="auto"&&(_.current=setTimeout(R,v.current||0)),r&&r(x.current,R)};return T.useEffect(()=>()=>{clearTimeout(_.current)},[]),k.jsx(y,N({appear:i,in:a,nodeRef:x,onEnter:S,onEntered:$,onEntering:P,onExit:C,onExited:L,onExiting:I,addEndListener:A,timeout:w==="auto"?null:w},h,{children:(R,M)=>T.cloneElement(o,N({style:N({opacity:0,transform:oe(.75),visibility:R==="exited"&&!a?"hidden":void 0},$r[R],d,o.props.style),ref:b},M))}))});sn.muiSupportAuto=!0;const zr=sn;function Ir(t){return Dt("MuiPopover",t)}Ft("MuiPopover",["root","paper"]);const Ar=["onEntering"],Or=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],Dr=["slotProps"];function Re(t,n){let e=0;return typeof n=="number"?e=n:n==="center"?e=t.height/2:n==="bottom"&&(e=t.height),e}function Me(t,n){let e=0;return typeof n=="number"?e=n:n==="center"?e=t.width/2:n==="right"&&(e=t.width),e}function $e(t){return[t.horizontal,t.vertical].map(n=>typeof n=="number"?`${n}px`:n).join(" ")}function te(t){return typeof t=="function"?t():t}const Fr=t=>{const{classes:n}=t;return Lt({root:["root"],paper:["paper"]},Ir,n)},jr=ht(Rr,{name:"MuiPopover",slot:"Root",overridesResolver:(t,n)=>n.root})({}),Lr=ht(Fn,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,n)=>n.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Br=T.forwardRef(function(n,e){var r,i,o;const s=jt({props:n,name:"MuiPopover"}),{action:a,anchorEl:l,anchorOrigin:u={vertical:"top",horizontal:"left"},anchorPosition:c,anchorReference:f="anchorEl",children:p,className:g,container:d,elevation:w=8,marginThreshold:y=16,open:h,PaperProps:_={},slots:v,slotProps:m,transformOrigin:x={vertical:"top",horizontal:"left"},TransitionComponent:b=zr,transitionDuration:E="auto",TransitionProps:{onEntering:P}={},disableScrollLock:S=!1}=s,$=rt(s.TransitionProps,Ar),I=rt(s,Or),C=(r=m==null?void 0:m.paper)!=null?r:_,L=T.useRef(),A=dt(L,C.ref),R=N({},s,{anchorOrigin:u,anchorReference:f,elevation:w,marginThreshold:y,externalPaperSlotProps:C,transformOrigin:x,TransitionComponent:b,transitionDuration:E,TransitionProps:$}),M=Fr(R),z=T.useCallback(()=>{if(f==="anchorPosition")return c;const O=te(l),tt=(O&&O.nodeType===1?O:ot(L.current).body).getBoundingClientRect();return{top:tt.top+Re(tt,u.vertical),left:tt.left+Me(tt,u.horizontal)}},[l,u.horizontal,u.vertical,c,f]),G=T.useCallback(O=>({vertical:Re(O,x.vertical),horizontal:Me(O,x.horizontal)}),[x.horizontal,x.vertical]),F=T.useCallback(O=>{const W={width:O.offsetWidth,height:O.offsetHeight},tt=G(W);if(f==="none")return{top:null,left:null,transformOrigin:$e(tt)};const pe=z();let yt=pe.top-tt.vertical,mt=pe.left-tt.horizontal;const ge=yt+W.height,ve=mt+W.width,xe=It(te(l)),ye=xe.innerHeight-y,me=xe.innerWidth-y;if(y!==null&&yt<y){const nt=yt-y;yt-=nt,tt.vertical+=nt}else if(y!==null&&ge>ye){const nt=ge-ye;yt-=nt,tt.vertical+=nt}if(y!==null&&mt<y){const nt=mt-y;mt-=nt,tt.horizontal+=nt}else if(ve>me){const nt=ve-me;mt-=nt,tt.horizontal+=nt}return{top:`${Math.round(yt)}px`,left:`${Math.round(mt)}px`,transformOrigin:$e(tt)}},[l,f,z,G,y]),[Y,B]=T.useState(h),H=T.useCallback(()=>{const O=L.current;if(!O)return;const W=F(O);W.top!==null&&(O.style.top=W.top),W.left!==null&&(O.style.left=W.left),O.style.transformOrigin=W.transformOrigin,B(!0)},[F]);T.useEffect(()=>(S&&window.addEventListener("scroll",H),()=>window.removeEventListener("scroll",H)),[l,S,H]);const J=(O,W)=>{P&&P(O,W),H()},U=()=>{B(!1)};T.useEffect(()=>{h&&H()}),T.useImperativeHandle(a,()=>h?{updatePosition:()=>{H()}}:null,[h,H]),T.useEffect(()=>{if(!h)return;const O=Nn(()=>{H()}),W=It(l);return W.addEventListener("resize",O),()=>{O.clear(),W.removeEventListener("resize",O)}},[l,h,H]);let q=E;E==="auto"&&!b.muiSupportAuto&&(q=void 0);const gt=d||(l?ot(te(l)).body:void 0),vt=(i=v==null?void 0:v.root)!=null?i:jr,Pt=(o=v==null?void 0:v.paper)!=null?o:Lr,kt=Ut({elementType:Pt,externalSlotProps:N({},C,{style:Y?C.style:N({},C.style,{opacity:0})}),additionalProps:{elevation:w,ref:A},ownerState:R,className:ut(M.paper,C==null?void 0:C.className)}),xt=Ut({elementType:vt,externalSlotProps:(m==null?void 0:m.root)||{},externalForwardedProps:I,additionalProps:{ref:e,slotProps:{backdrop:{invisible:!0}},container:gt,open:h},ownerState:R,className:ut(M.root,g)}),{slotProps:Kt}=xt,Zt=rt(xt,Dr);return k.jsx(vt,N({},Zt,!nn(vt)&&{slotProps:Kt,disableScrollLock:S},{children:k.jsx(b,N({appear:!0,in:h,onEntering:J,onExited:U,timeout:q},$,{children:k.jsx(Pt,N({},kt,{children:p}))}))}))}),Io=Br;function Hr(t,n){if(Object.is(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;if(t instanceof Map&&n instanceof Map){if(t.size!==n.size)return!1;for(const[r,i]of t)if(!Object.is(i,n.get(r)))return!1;return!0}if(t instanceof Set&&n instanceof Set){if(t.size!==n.size)return!1;for(const r of t)if(!n.has(r))return!1;return!0}const e=Object.keys(t);if(e.length!==Object.keys(n).length)return!1;for(let r=0;r<e.length;r++)if(!Object.prototype.hasOwnProperty.call(n,e[r])||!Object.is(t[e[r]],n[e[r]]))return!1;return!0}const{useRef:qr}=Ct;function Gr(t){const n=qr();return e=>{const r=t(e);return Hr(n.current,r)?n.current:n.current=r}}function Wr(t,n,e){var r,i=1;t==null&&(t=0),n==null&&(n=0),e==null&&(e=0);function o(){var s,a=r.length,l,u=0,c=0,f=0;for(s=0;s<a;++s)l=r[s],u+=l.x||0,c+=l.y||0,f+=l.z||0;for(u=(u/a-t)*i,c=(c/a-n)*i,f=(f/a-e)*i,s=0;s<a;++s)l=r[s],u&&(l.x-=u),c&&(l.y-=c),f&&(l.z-=f)}return o.initialize=function(s){r=s},o.x=function(s){return arguments.length?(t=+s,o):t},o.y=function(s){return arguments.length?(n=+s,o):n},o.z=function(s){return arguments.length?(e=+s,o):e},o.strength=function(s){return arguments.length?(i=+s,o):i},o}function Ur(t){const n=+this._x.call(null,t);return an(this.cover(n),n,t)}function an(t,n,e){if(isNaN(n))return t;var r,i=t._root,o={data:e},s=t._x0,a=t._x1,l,u,c,f,p;if(!i)return t._root=o,t;for(;i.length;)if((c=n>=(l=(s+a)/2))?s=l:a=l,r=i,!(i=i[f=+c]))return r[f]=o,t;if(u=+t._x.call(null,i.data),n===u)return o.next=i,r?r[f]=o:t._root=o,t;do r=r?r[f]=new Array(2):t._root=new Array(2),(c=n>=(l=(s+a)/2))?s=l:a=l;while((f=+c)==(p=+(u>=l)));return r[p]=i,r[f]=o,t}function Vr(t){Array.isArray(t)||(t=Array.from(t));const n=t.length,e=new Float64Array(n);let r=1/0,i=-1/0;for(let o=0,s;o<n;++o)isNaN(s=+this._x.call(null,t[o]))||(e[o]=s,s<r&&(r=s),s>i&&(i=s));if(r>i)return this;this.cover(r).cover(i);for(let o=0;o<n;++o)an(this,e[o],t[o]);return this}function Xr(t){if(isNaN(t=+t))return this;var n=this._x0,e=this._x1;if(isNaN(n))e=(n=Math.floor(t))+1;else{for(var r=e-n||1,i=this._root,o,s;n>t||t>=e;)switch(s=+(t<n),o=new Array(2),o[s]=i,i=o,r*=2,s){case 0:e=n+r;break;case 1:n=e-r;break}this._root&&this._root.length&&(this._root=i)}return this._x0=n,this._x1=e,this}function Yr(){var t=[];return this.visit(function(n){if(!n.length)do t.push(n.data);while(n=n.next)}),t}function Kr(t){return arguments.length?this.cover(+t[0][0]).cover(+t[1][0]):isNaN(this._x0)?void 0:[[this._x0],[this._x1]]}function st(t,n,e){this.node=t,this.x0=n,this.x1=e}function Zr(t,n){var e,r=this._x0,i,o,s=this._x1,a=[],l=this._root,u,c;for(l&&a.push(new st(l,r,s)),n==null?n=1/0:(r=t-n,s=t+n);u=a.pop();)if(!(!(l=u.node)||(i=u.x0)>s||(o=u.x1)<r))if(l.length){var f=(i+o)/2;a.push(new st(l[1],f,o),new st(l[0],i,f)),(c=+(t>=f))&&(u=a[a.length-1],a[a.length-1]=a[a.length-1-c],a[a.length-1-c]=u)}else{var p=Math.abs(t-+this._x.call(null,l.data));p<n&&(n=p,r=t-p,s=t+p,e=l.data)}return e}function Qr(t){if(isNaN(l=+this._x.call(null,t)))return this;var n,e=this._root,r,i,o,s=this._x0,a=this._x1,l,u,c,f,p;if(!e)return this;if(e.length)for(;;){if((c=l>=(u=(s+a)/2))?s=u:a=u,n=e,!(e=e[f=+c]))return this;if(!e.length)break;n[f+1&1]&&(r=n,p=f)}for(;e.data!==t;)if(i=e,!(e=e.next))return this;return(o=e.next)&&delete e.next,i?(o?i.next=o:delete i.next,this):n?(o?n[f]=o:delete n[f],(e=n[0]||n[1])&&e===(n[1]||n[0])&&!e.length&&(r?r[p]=e:this._root=e),this):(this._root=o,this)}function Jr(t){for(var n=0,e=t.length;n<e;++n)this.remove(t[n]);return this}function ti(){return this._root}function ei(){var t=0;return this.visit(function(n){if(!n.length)do++t;while(n=n.next)}),t}function ni(t){var n=[],e,r=this._root,i,o,s;for(r&&n.push(new st(r,this._x0,this._x1));e=n.pop();)if(!t(r=e.node,o=e.x0,s=e.x1)&&r.length){var a=(o+s)/2;(i=r[1])&&n.push(new st(i,a,s)),(i=r[0])&&n.push(new st(i,o,a))}return this}function ri(t){var n=[],e=[],r;for(this._root&&n.push(new st(this._root,this._x0,this._x1));r=n.pop();){var i=r.node;if(i.length){var o,s=r.x0,a=r.x1,l=(s+a)/2;(o=i[0])&&n.push(new st(o,s,l)),(o=i[1])&&n.push(new st(o,l,a))}e.push(r)}for(;r=e.pop();)t(r.node,r.x0,r.x1);return this}function ii(t){return t[0]}function oi(t){return arguments.length?(this._x=t,this):this._x}function le(t,n){var e=new ce(n??ii,NaN,NaN);return t==null?e:e.addAll(t)}function ce(t,n,e){this._x=t,this._x0=n,this._x1=e,this._root=void 0}function ze(t){for(var n={data:t.data},e=n;t=t.next;)e=e.next={data:t.data};return n}var Q=le.prototype=ce.prototype;Q.copy=function(){var t=new ce(this._x,this._x0,this._x1),n=this._root,e,r;if(!n)return t;if(!n.length)return t._root=ze(n),t;for(e=[{source:n,target:t._root=new Array(2)}];n=e.pop();)for(var i=0;i<2;++i)(r=n.source[i])&&(r.length?e.push({source:r,target:n.target[i]=new Array(2)}):n.target[i]=ze(r));return t};Q.add=Ur;Q.addAll=Vr;Q.cover=Xr;Q.data=Yr;Q.extent=Kr;Q.find=Zr;Q.remove=Qr;Q.removeAll=Jr;Q.root=ti;Q.size=ei;Q.visit=ni;Q.visitAfter=ri;Q.x=oi;function si(t){const n=+this._x.call(null,t),e=+this._y.call(null,t);return ln(this.cover(n,e),n,e,t)}function ln(t,n,e,r){if(isNaN(n)||isNaN(e))return t;var i,o=t._root,s={data:r},a=t._x0,l=t._y0,u=t._x1,c=t._y1,f,p,g,d,w,y,h,_;if(!o)return t._root=s,t;for(;o.length;)if((w=n>=(f=(a+u)/2))?a=f:u=f,(y=e>=(p=(l+c)/2))?l=p:c=p,i=o,!(o=o[h=y<<1|w]))return i[h]=s,t;if(g=+t._x.call(null,o.data),d=+t._y.call(null,o.data),n===g&&e===d)return s.next=o,i?i[h]=s:t._root=s,t;do i=i?i[h]=new Array(4):t._root=new Array(4),(w=n>=(f=(a+u)/2))?a=f:u=f,(y=e>=(p=(l+c)/2))?l=p:c=p;while((h=y<<1|w)===(_=(d>=p)<<1|g>=f));return i[_]=o,i[h]=s,t}function ai(t){var n,e,r=t.length,i,o,s=new Array(r),a=new Array(r),l=1/0,u=1/0,c=-1/0,f=-1/0;for(e=0;e<r;++e)isNaN(i=+this._x.call(null,n=t[e]))||isNaN(o=+this._y.call(null,n))||(s[e]=i,a[e]=o,i<l&&(l=i),i>c&&(c=i),o<u&&(u=o),o>f&&(f=o));if(l>c||u>f)return this;for(this.cover(l,u).cover(c,f),e=0;e<r;++e)ln(this,s[e],a[e],t[e]);return this}function li(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var e=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(e))i=(e=Math.floor(t))+1,o=(r=Math.floor(n))+1;else{for(var s=i-e||1,a=this._root,l,u;e>t||t>=i||r>n||n>=o;)switch(u=(n<r)<<1|t<e,l=new Array(4),l[u]=a,a=l,s*=2,u){case 0:i=e+s,o=r+s;break;case 1:e=i-s,o=r+s;break;case 2:i=e+s,r=o-s;break;case 3:e=i-s,r=o-s;break}this._root&&this._root.length&&(this._root=a)}return this._x0=e,this._y0=r,this._x1=i,this._y1=o,this}function ci(){var t=[];return this.visit(function(n){if(!n.length)do t.push(n.data);while(n=n.next)}),t}function ui(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function K(t,n,e,r,i){this.node=t,this.x0=n,this.y0=e,this.x1=r,this.y1=i}function fi(t,n,e){var r,i=this._x0,o=this._y0,s,a,l,u,c=this._x1,f=this._y1,p=[],g=this._root,d,w;for(g&&p.push(new K(g,i,o,c,f)),e==null?e=1/0:(i=t-e,o=n-e,c=t+e,f=n+e,e*=e);d=p.pop();)if(!(!(g=d.node)||(s=d.x0)>c||(a=d.y0)>f||(l=d.x1)<i||(u=d.y1)<o))if(g.length){var y=(s+l)/2,h=(a+u)/2;p.push(new K(g[3],y,h,l,u),new K(g[2],s,h,y,u),new K(g[1],y,a,l,h),new K(g[0],s,a,y,h)),(w=(n>=h)<<1|t>=y)&&(d=p[p.length-1],p[p.length-1]=p[p.length-1-w],p[p.length-1-w]=d)}else{var _=t-+this._x.call(null,g.data),v=n-+this._y.call(null,g.data),m=_*_+v*v;if(m<e){var x=Math.sqrt(e=m);i=t-x,o=n-x,c=t+x,f=n+x,r=g.data}}return r}function hi(t){if(isNaN(c=+this._x.call(null,t))||isNaN(f=+this._y.call(null,t)))return this;var n,e=this._root,r,i,o,s=this._x0,a=this._y0,l=this._x1,u=this._y1,c,f,p,g,d,w,y,h;if(!e)return this;if(e.length)for(;;){if((d=c>=(p=(s+l)/2))?s=p:l=p,(w=f>=(g=(a+u)/2))?a=g:u=g,n=e,!(e=e[y=w<<1|d]))return this;if(!e.length)break;(n[y+1&3]||n[y+2&3]||n[y+3&3])&&(r=n,h=y)}for(;e.data!==t;)if(i=e,!(e=e.next))return this;return(o=e.next)&&delete e.next,i?(o?i.next=o:delete i.next,this):n?(o?n[y]=o:delete n[y],(e=n[0]||n[1]||n[2]||n[3])&&e===(n[3]||n[2]||n[1]||n[0])&&!e.length&&(r?r[h]=e:this._root=e),this):(this._root=o,this)}function di(t){for(var n=0,e=t.length;n<e;++n)this.remove(t[n]);return this}function pi(){return this._root}function gi(){var t=0;return this.visit(function(n){if(!n.length)do++t;while(n=n.next)}),t}function vi(t){var n=[],e,r=this._root,i,o,s,a,l;for(r&&n.push(new K(r,this._x0,this._y0,this._x1,this._y1));e=n.pop();)if(!t(r=e.node,o=e.x0,s=e.y0,a=e.x1,l=e.y1)&&r.length){var u=(o+a)/2,c=(s+l)/2;(i=r[3])&&n.push(new K(i,u,c,a,l)),(i=r[2])&&n.push(new K(i,o,c,u,l)),(i=r[1])&&n.push(new K(i,u,s,a,c)),(i=r[0])&&n.push(new K(i,o,s,u,c))}return this}function xi(t){var n=[],e=[],r;for(this._root&&n.push(new K(this._root,this._x0,this._y0,this._x1,this._y1));r=n.pop();){var i=r.node;if(i.length){var o,s=r.x0,a=r.y0,l=r.x1,u=r.y1,c=(s+l)/2,f=(a+u)/2;(o=i[0])&&n.push(new K(o,s,a,c,f)),(o=i[1])&&n.push(new K(o,c,a,l,f)),(o=i[2])&&n.push(new K(o,s,f,c,u)),(o=i[3])&&n.push(new K(o,c,f,l,u))}e.push(r)}for(;r=e.pop();)t(r.node,r.x0,r.y0,r.x1,r.y1);return this}function yi(t){return t[0]}function mi(t){return arguments.length?(this._x=t,this):this._x}function wi(t){return t[1]}function _i(t){return arguments.length?(this._y=t,this):this._y}function ue(t,n,e){var r=new fe(n??yi,e??wi,NaN,NaN,NaN,NaN);return t==null?r:r.addAll(t)}function fe(t,n,e,r,i,o){this._x=t,this._y=n,this._x0=e,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function Ie(t){for(var n={data:t.data},e=n;t=t.next;)e=e.next={data:t.data};return n}var Z=ue.prototype=fe.prototype;Z.copy=function(){var t=new fe(this._x,this._y,this._x0,this._y0,this._x1,this._y1),n=this._root,e,r;if(!n)return t;if(!n.length)return t._root=Ie(n),t;for(e=[{source:n,target:t._root=new Array(4)}];n=e.pop();)for(var i=0;i<4;++i)(r=n.source[i])&&(r.length?e.push({source:r,target:n.target[i]=new Array(4)}):n.target[i]=Ie(r));return t};Z.add=si;Z.addAll=ai;Z.cover=li;Z.data=ci;Z.extent=ui;Z.find=fi;Z.remove=hi;Z.removeAll=di;Z.root=pi;Z.size=gi;Z.visit=vi;Z.visitAfter=xi;Z.x=mi;Z.y=_i;function bi(t){const n=+this._x.call(null,t),e=+this._y.call(null,t),r=+this._z.call(null,t);return cn(this.cover(n,e,r),n,e,r,t)}function cn(t,n,e,r,i){if(isNaN(n)||isNaN(e)||isNaN(r))return t;var o,s=t._root,a={data:i},l=t._x0,u=t._y0,c=t._z0,f=t._x1,p=t._y1,g=t._z1,d,w,y,h,_,v,m,x,b,E,P;if(!s)return t._root=a,t;for(;s.length;)if((m=n>=(d=(l+f)/2))?l=d:f=d,(x=e>=(w=(u+p)/2))?u=w:p=w,(b=r>=(y=(c+g)/2))?c=y:g=y,o=s,!(s=s[E=b<<2|x<<1|m]))return o[E]=a,t;if(h=+t._x.call(null,s.data),_=+t._y.call(null,s.data),v=+t._z.call(null,s.data),n===h&&e===_&&r===v)return a.next=s,o?o[E]=a:t._root=a,t;do o=o?o[E]=new Array(8):t._root=new Array(8),(m=n>=(d=(l+f)/2))?l=d:f=d,(x=e>=(w=(u+p)/2))?u=w:p=w,(b=r>=(y=(c+g)/2))?c=y:g=y;while((E=b<<2|x<<1|m)===(P=(v>=y)<<2|(_>=w)<<1|h>=d));return o[P]=s,o[E]=a,t}function Ei(t){Array.isArray(t)||(t=Array.from(t));const n=t.length,e=new Float64Array(n),r=new Float64Array(n),i=new Float64Array(n);let o=1/0,s=1/0,a=1/0,l=-1/0,u=-1/0,c=-1/0;for(let f=0,p,g,d,w;f<n;++f)isNaN(g=+this._x.call(null,p=t[f]))||isNaN(d=+this._y.call(null,p))||isNaN(w=+this._z.call(null,p))||(e[f]=g,r[f]=d,i[f]=w,g<o&&(o=g),g>l&&(l=g),d<s&&(s=d),d>u&&(u=d),w<a&&(a=w),w>c&&(c=w));if(o>l||s>u||a>c)return this;this.cover(o,s,a).cover(l,u,c);for(let f=0;f<n;++f)cn(this,e[f],r[f],i[f],t[f]);return this}function Pi(t,n,e){if(isNaN(t=+t)||isNaN(n=+n)||isNaN(e=+e))return this;var r=this._x0,i=this._y0,o=this._z0,s=this._x1,a=this._y1,l=this._z1;if(isNaN(r))s=(r=Math.floor(t))+1,a=(i=Math.floor(n))+1,l=(o=Math.floor(e))+1;else{for(var u=s-r||1,c=this._root,f,p;r>t||t>=s||i>n||n>=a||o>e||e>=l;)switch(p=(e<o)<<2|(n<i)<<1|t<r,f=new Array(8),f[p]=c,c=f,u*=2,p){case 0:s=r+u,a=i+u,l=o+u;break;case 1:r=s-u,a=i+u,l=o+u;break;case 2:s=r+u,i=a-u,l=o+u;break;case 3:r=s-u,i=a-u,l=o+u;break;case 4:s=r+u,a=i+u,o=l-u;break;case 5:r=s-u,a=i+u,o=l-u;break;case 6:s=r+u,i=a-u,o=l-u;break;case 7:r=s-u,i=a-u,o=l-u;break}this._root&&this._root.length&&(this._root=c)}return this._x0=r,this._y0=i,this._z0=o,this._x1=s,this._y1=a,this._z1=l,this}function ki(){var t=[];return this.visit(function(n){if(!n.length)do t.push(n.data);while(n=n.next)}),t}function Ti(t){return arguments.length?this.cover(+t[0][0],+t[0][1],+t[0][2]).cover(+t[1][0],+t[1][1],+t[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]}function D(t,n,e,r,i,o,s){this.node=t,this.x0=n,this.y0=e,this.z0=r,this.x1=i,this.y1=o,this.z1=s}function Si(t,n,e,r){var i,o=this._x0,s=this._y0,a=this._z0,l,u,c,f,p,g,d=this._x1,w=this._y1,y=this._z1,h=[],_=this._root,v,m;for(_&&h.push(new D(_,o,s,a,d,w,y)),r==null?r=1/0:(o=t-r,s=n-r,a=e-r,d=t+r,w=n+r,y=e+r,r*=r);v=h.pop();)if(!(!(_=v.node)||(l=v.x0)>d||(u=v.y0)>w||(c=v.z0)>y||(f=v.x1)<o||(p=v.y1)<s||(g=v.z1)<a))if(_.length){var x=(l+f)/2,b=(u+p)/2,E=(c+g)/2;h.push(new D(_[7],x,b,E,f,p,g),new D(_[6],l,b,E,x,p,g),new D(_[5],x,u,E,f,b,g),new D(_[4],l,u,E,x,b,g),new D(_[3],x,b,c,f,p,E),new D(_[2],l,b,c,x,p,E),new D(_[1],x,u,c,f,b,E),new D(_[0],l,u,c,x,b,E)),(m=(e>=E)<<2|(n>=b)<<1|t>=x)&&(v=h[h.length-1],h[h.length-1]=h[h.length-1-m],h[h.length-1-m]=v)}else{var P=t-+this._x.call(null,_.data),S=n-+this._y.call(null,_.data),$=e-+this._z.call(null,_.data),I=P*P+S*S+$*$;if(I<r){var C=Math.sqrt(r=I);o=t-C,s=n-C,a=e-C,d=t+C,w=n+C,y=e+C,i=_.data}}return i}function Ci(t){if(isNaN(p=+this._x.call(null,t))||isNaN(g=+this._y.call(null,t))||isNaN(d=+this._z.call(null,t)))return this;var n,e=this._root,r,i,o,s=this._x0,a=this._y0,l=this._z0,u=this._x1,c=this._y1,f=this._z1,p,g,d,w,y,h,_,v,m,x,b;if(!e)return this;if(e.length)for(;;){if((_=p>=(w=(s+u)/2))?s=w:u=w,(v=g>=(y=(a+c)/2))?a=y:c=y,(m=d>=(h=(l+f)/2))?l=h:f=h,n=e,!(e=e[x=m<<2|v<<1|_]))return this;if(!e.length)break;(n[x+1&7]||n[x+2&7]||n[x+3&7]||n[x+4&7]||n[x+5&7]||n[x+6&7]||n[x+7&7])&&(r=n,b=x)}for(;e.data!==t;)if(i=e,!(e=e.next))return this;return(o=e.next)&&delete e.next,i?(o?i.next=o:delete i.next,this):n?(o?n[x]=o:delete n[x],(e=n[0]||n[1]||n[2]||n[3]||n[4]||n[5]||n[6]||n[7])&&e===(n[7]||n[6]||n[5]||n[4]||n[3]||n[2]||n[1]||n[0])&&!e.length&&(r?r[b]=e:this._root=e),this):(this._root=o,this)}function Ni(t){for(var n=0,e=t.length;n<e;++n)this.remove(t[n]);return this}function Ri(){return this._root}function Mi(){var t=0;return this.visit(function(n){if(!n.length)do++t;while(n=n.next)}),t}function $i(t){var n=[],e,r=this._root,i,o,s,a,l,u,c;for(r&&n.push(new D(r,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));e=n.pop();)if(!t(r=e.node,o=e.x0,s=e.y0,a=e.z0,l=e.x1,u=e.y1,c=e.z1)&&r.length){var f=(o+l)/2,p=(s+u)/2,g=(a+c)/2;(i=r[7])&&n.push(new D(i,f,p,g,l,u,c)),(i=r[6])&&n.push(new D(i,o,p,g,f,u,c)),(i=r[5])&&n.push(new D(i,f,s,g,l,p,c)),(i=r[4])&&n.push(new D(i,o,s,g,f,p,c)),(i=r[3])&&n.push(new D(i,f,p,a,l,u,g)),(i=r[2])&&n.push(new D(i,o,p,a,f,u,g)),(i=r[1])&&n.push(new D(i,f,s,a,l,p,g)),(i=r[0])&&n.push(new D(i,o,s,a,f,p,g))}return this}function zi(t){var n=[],e=[],r;for(this._root&&n.push(new D(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));r=n.pop();){var i=r.node;if(i.length){var o,s=r.x0,a=r.y0,l=r.z0,u=r.x1,c=r.y1,f=r.z1,p=(s+u)/2,g=(a+c)/2,d=(l+f)/2;(o=i[0])&&n.push(new D(o,s,a,l,p,g,d)),(o=i[1])&&n.push(new D(o,p,a,l,u,g,d)),(o=i[2])&&n.push(new D(o,s,g,l,p,c,d)),(o=i[3])&&n.push(new D(o,p,g,l,u,c,d)),(o=i[4])&&n.push(new D(o,s,a,d,p,g,f)),(o=i[5])&&n.push(new D(o,p,a,d,u,g,f)),(o=i[6])&&n.push(new D(o,s,g,d,p,c,f)),(o=i[7])&&n.push(new D(o,p,g,d,u,c,f))}e.push(r)}for(;r=e.pop();)t(r.node,r.x0,r.y0,r.z0,r.x1,r.y1,r.z1);return this}function Ii(t){return t[0]}function Ai(t){return arguments.length?(this._x=t,this):this._x}function Oi(t){return t[1]}function Di(t){return arguments.length?(this._y=t,this):this._y}function Fi(t){return t[2]}function ji(t){return arguments.length?(this._z=t,this):this._z}function he(t,n,e,r){var i=new de(n??Ii,e??Oi,r??Fi,NaN,NaN,NaN,NaN,NaN,NaN);return t==null?i:i.addAll(t)}function de(t,n,e,r,i,o,s,a,l){this._x=t,this._y=n,this._z=e,this._x0=r,this._y0=i,this._z0=o,this._x1=s,this._y1=a,this._z1=l,this._root=void 0}function Ae(t){for(var n={data:t.data},e=n;t=t.next;)e=e.next={data:t.data};return n}var X=he.prototype=de.prototype;X.copy=function(){var t=new de(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),n=this._root,e,r;if(!n)return t;if(!n.length)return t._root=Ae(n),t;for(e=[{source:n,target:t._root=new Array(8)}];n=e.pop();)for(var i=0;i<8;++i)(r=n.source[i])&&(r.length?e.push({source:r,target:n.target[i]=new Array(8)}):n.target[i]=Ae(r));return t};X.add=bi;X.addAll=Ei;X.cover=Pi;X.data=ki;X.extent=Ti;X.find=Si;X.remove=Ci;X.removeAll=Ni;X.root=Ri;X.size=Mi;X.visit=$i;X.visitAfter=zi;X.x=Ai;X.y=Di;X.z=ji;function j(t){return function(){return t}}function et(t){return(t()-.5)*1e-6}function ee(t){return t.x+t.vx}function Oe(t){return t.y+t.vy}function Li(t){return t.z+t.vz}function ne(t){var n,e,r,i,o=1,s=1;typeof t!="function"&&(t=j(t==null?1:+t));function a(){for(var c,f=n.length,p,g,d,w,y,h,_,v=0;v<s;++v)for(p=(e===1?le(n,ee):e===2?ue(n,ee,Oe):e===3?he(n,ee,Oe,Li):null).visitAfter(l),c=0;c<f;++c)g=n[c],h=r[g.index],_=h*h,d=g.x+g.vx,e>1&&(w=g.y+g.vy),e>2&&(y=g.z+g.vz),p.visit(m);function m(x,b,E,P,S,$,I){var C=[b,E,P,S,$,I],L=C[0],A=C[1],R=C[2],M=C[e],z=C[e+1],G=C[e+2],F=x.data,Y=x.r,B=h+Y;if(F){if(F.index>g.index){var H=d-F.x-F.vx,J=e>1?w-F.y-F.vy:0,U=e>2?y-F.z-F.vz:0,q=H*H+J*J+U*U;q<B*B&&(H===0&&(H=et(i),q+=H*H),e>1&&J===0&&(J=et(i),q+=J*J),e>2&&U===0&&(U=et(i),q+=U*U),q=(B-(q=Math.sqrt(q)))/q*o,g.vx+=(H*=q)*(B=(Y*=Y)/(_+Y)),e>1&&(g.vy+=(J*=q)*B),e>2&&(g.vz+=(U*=q)*B),F.vx-=H*(B=1-B),e>1&&(F.vy-=J*B),e>2&&(F.vz-=U*B))}return}return L>d+B||M<d-B||e>1&&(A>w+B||z<w-B)||e>2&&(R>y+B||G<y-B)}}function l(c){if(c.data)return c.r=r[c.data.index];for(var f=c.r=0;f<Math.pow(2,e);++f)c[f]&&c[f].r>c.r&&(c.r=c[f].r)}function u(){if(n){var c,f=n.length,p;for(r=new Array(f),c=0;c<f;++c)p=n[c],r[p.index]=+t(p,c,n)}}return a.initialize=function(c,...f){n=c,i=f.find(p=>typeof p=="function")||Math.random,e=f.find(p=>[1,2,3].includes(p))||2,u()},a.iterations=function(c){return arguments.length?(s=+c,a):s},a.strength=function(c){return arguments.length?(o=+c,a):o},a.radius=function(c){return arguments.length?(t=typeof c=="function"?c:j(+c),u(),a):t},a}function Bi(t){return t.index}function De(t,n){var e=t.get(n);if(!e)throw new Error("node not found: "+n);return e}function Fe(t){var n=Bi,e=p,r,i=j(30),o,s,a,l,u,c,f=1;t==null&&(t=[]);function p(h){return 1/Math.min(l[h.source.index],l[h.target.index])}function g(h){for(var _=0,v=t.length;_<f;++_)for(var m=0,x,b,E,P=0,S=0,$=0,I,C;m<v;++m)x=t[m],b=x.source,E=x.target,P=E.x+E.vx-b.x-b.vx||et(c),a>1&&(S=E.y+E.vy-b.y-b.vy||et(c)),a>2&&($=E.z+E.vz-b.z-b.vz||et(c)),I=Math.sqrt(P*P+S*S+$*$),I=(I-o[m])/I*h*r[m],P*=I,S*=I,$*=I,E.vx-=P*(C=u[m]),a>1&&(E.vy-=S*C),a>2&&(E.vz-=$*C),b.vx+=P*(C=1-C),a>1&&(b.vy+=S*C),a>2&&(b.vz+=$*C)}function d(){if(s){var h,_=s.length,v=t.length,m=new Map(s.map((b,E)=>[n(b,E,s),b])),x;for(h=0,l=new Array(_);h<v;++h)x=t[h],x.index=h,typeof x.source!="object"&&(x.source=De(m,x.source)),typeof x.target!="object"&&(x.target=De(m,x.target)),l[x.source.index]=(l[x.source.index]||0)+1,l[x.target.index]=(l[x.target.index]||0)+1;for(h=0,u=new Array(v);h<v;++h)x=t[h],u[h]=l[x.source.index]/(l[x.source.index]+l[x.target.index]);r=new Array(v),w(),o=new Array(v),y()}}function w(){if(s)for(var h=0,_=t.length;h<_;++h)r[h]=+e(t[h],h,t)}function y(){if(s)for(var h=0,_=t.length;h<_;++h)o[h]=+i(t[h],h,t)}return g.initialize=function(h,..._){s=h,c=_.find(v=>typeof v=="function")||Math.random,a=_.find(v=>[1,2,3].includes(v))||2,d()},g.links=function(h){return arguments.length?(t=h,d(),g):t},g.id=function(h){return arguments.length?(n=h,g):n},g.iterations=function(h){return arguments.length?(f=+h,g):f},g.strength=function(h){return arguments.length?(e=typeof h=="function"?h:j(+h),w(),g):e},g.distance=function(h){return arguments.length?(i=typeof h=="function"?h:j(+h),y(),g):i},g}var Hi={value:()=>{}};function un(){for(var t=0,n=arguments.length,e={},r;t<n;++t){if(!(r=arguments[t]+"")||r in e||/[\s.]/.test(r))throw new Error("illegal type: "+r);e[r]=[]}return new qt(e)}function qt(t){this._=t}function qi(t,n){return t.trim().split(/^|\s+/).map(function(e){var r="",i=e.indexOf(".");if(i>=0&&(r=e.slice(i+1),e=e.slice(0,i)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:r}})}qt.prototype=un.prototype={constructor:qt,on:function(t,n){var e=this._,r=qi(t+"",e),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(t=r[o]).type)&&(i=Gi(e[i],t.name)))return i;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++o<s;)if(i=(t=r[o]).type)e[i]=je(e[i],t.name,n);else if(n==null)for(i in e)e[i]=je(e[i],t.name,null);return this},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new qt(t)},call:function(t,n){if((i=arguments.length-2)>0)for(var e=new Array(i),r=0,i,o;r<i;++r)e[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(n,e)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};function Gi(t,n){for(var e=0,r=t.length,i;e<r;++e)if((i=t[e]).name===n)return i.value}function je(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=Hi,t=t.slice(0,r).concat(t.slice(r+1));break}return e!=null&&t.push({name:n,value:e}),t}var Et=0,Rt=0,Tt=0,fn=1e3,Vt,Mt,Xt=0,ft=0,Yt=0,At=typeof performance=="object"&&performance.now?performance:Date,hn=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function dn(){return ft||(hn(Wi),ft=At.now()+Yt)}function Wi(){ft=0}function se(){this._call=this._time=this._next=null}se.prototype=pn.prototype={constructor:se,restart:function(t,n,e){if(typeof t!="function")throw new TypeError("callback is not a function");e=(e==null?dn():+e)+(n==null?0:+n),!this._next&&Mt!==this&&(Mt?Mt._next=this:Vt=this,Mt=this),this._call=t,this._time=e,ae()},stop:function(){this._call&&(this._call=null,this._time=1/0,ae())}};function pn(t,n,e){var r=new se;return r.restart(t,n,e),r}function Ui(){dn(),++Et;for(var t=Vt,n;t;)(n=ft-t._time)>=0&&t._call.call(void 0,n),t=t._next;--Et}function Le(){ft=(Xt=At.now())+Yt,Et=Rt=0;try{Ui()}finally{Et=0,Xi(),ft=0}}function Vi(){var t=At.now(),n=t-Xt;n>fn&&(Yt-=n,Xt=t)}function Xi(){for(var t,n=Vt,e,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Vt=e);Mt=t,ae(r)}function ae(t){if(!Et){Rt&&(Rt=clearTimeout(Rt));var n=t-ft;n>24?(t<1/0&&(Rt=setTimeout(Le,t-At.now()-Yt)),Tt&&(Tt=clearInterval(Tt))):(Tt||(Xt=At.now(),Tt=setInterval(Vi,fn)),Et=1,hn(Le))}}const Yi=1664525,Ki=1013904223,Be=4294967296;function Zi(){let t=1;return()=>(t=(Yi*t+Ki)%Be)/Be}var He=3;function re(t){return t.x}function qe(t){return t.y}function Qi(t){return t.z}var Ji=10,to=Math.PI*(3-Math.sqrt(5)),eo=Math.PI*20/(9+Math.sqrt(221));function no(t,n){n=n||2;var e=Math.min(He,Math.max(1,Math.round(n))),r,i=1,o=.001,s=1-Math.pow(o,1/300),a=0,l=.6,u=new Map,c=pn(g),f=un("tick","end"),p=Zi();t==null&&(t=[]);function g(){d(),f.call("tick",r),i<o&&(c.stop(),f.call("end",r))}function d(h){var _,v=t.length,m;h===void 0&&(h=1);for(var x=0;x<h;++x)for(i+=(a-i)*s,u.forEach(function(b){b(i)}),_=0;_<v;++_)m=t[_],m.fx==null?m.x+=m.vx*=l:(m.x=m.fx,m.vx=0),e>1&&(m.fy==null?m.y+=m.vy*=l:(m.y=m.fy,m.vy=0)),e>2&&(m.fz==null?m.z+=m.vz*=l:(m.z=m.fz,m.vz=0));return r}function w(){for(var h=0,_=t.length,v;h<_;++h){if(v=t[h],v.index=h,v.fx!=null&&(v.x=v.fx),v.fy!=null&&(v.y=v.fy),v.fz!=null&&(v.z=v.fz),isNaN(v.x)||e>1&&isNaN(v.y)||e>2&&isNaN(v.z)){var m=Ji*(e>2?Math.cbrt(.5+h):e>1?Math.sqrt(.5+h):h),x=h*to,b=h*eo;e===1?v.x=m:e===2?(v.x=m*Math.cos(x),v.y=m*Math.sin(x)):(v.x=m*Math.sin(x)*Math.cos(b),v.y=m*Math.cos(x),v.z=m*Math.sin(x)*Math.sin(b))}(isNaN(v.vx)||e>1&&isNaN(v.vy)||e>2&&isNaN(v.vz))&&(v.vx=0,e>1&&(v.vy=0),e>2&&(v.vz=0))}}function y(h){return h.initialize&&h.initialize(t,p,e),h}return w(),r={tick:d,restart:function(){return c.restart(g),r},stop:function(){return c.stop(),r},numDimensions:function(h){return arguments.length?(e=Math.min(He,Math.max(1,Math.round(h))),u.forEach(y),r):e},nodes:function(h){return arguments.length?(t=h,w(),u.forEach(y),r):t},alpha:function(h){return arguments.length?(i=+h,r):i},alphaMin:function(h){return arguments.length?(o=+h,r):o},alphaDecay:function(h){return arguments.length?(s=+h,r):+s},alphaTarget:function(h){return arguments.length?(a=+h,r):a},velocityDecay:function(h){return arguments.length?(l=1-h,r):1-l},randomSource:function(h){return arguments.length?(p=h,u.forEach(y),r):p},force:function(h,_){return arguments.length>1?(_==null?u.delete(h):u.set(h,y(_)),r):u.get(h)},find:function(){var h=Array.prototype.slice.call(arguments),_=h.shift()||0,v=(e>1?h.shift():null)||0,m=(e>2?h.shift():null)||0,x=h.shift()||1/0,b=0,E=t.length,P,S,$,I,C,L;for(x*=x,b=0;b<E;++b)C=t[b],P=_-C.x,S=v-(C.y||0),$=m-(C.z||0),I=P*P+S*S+$*$,I<x&&(L=C,x=I);return L},on:function(h,_){return arguments.length>1?(f.on(h,_),r):f.on(h)}}}function Ge(){var t,n,e,r,i,o=j(-30),s,a=1,l=1/0,u=.81;function c(d){var w,y=t.length,h=(n===1?le(t,re):n===2?ue(t,re,qe):n===3?he(t,re,qe,Qi):null).visitAfter(p);for(i=d,w=0;w<y;++w)e=t[w],h.visit(g)}function f(){if(t){var d,w=t.length,y;for(s=new Array(w),d=0;d<w;++d)y=t[d],s[y.index]=+o(y,d,t)}}function p(d){var w=0,y,h,_=0,v,m,x,b,E=d.length;if(E){for(v=m=x=b=0;b<E;++b)(y=d[b])&&(h=Math.abs(y.value))&&(w+=y.value,_+=h,v+=h*(y.x||0),m+=h*(y.y||0),x+=h*(y.z||0));w*=Math.sqrt(4/E),d.x=v/_,n>1&&(d.y=m/_),n>2&&(d.z=x/_)}else{y=d,y.x=y.data.x,n>1&&(y.y=y.data.y),n>2&&(y.z=y.data.z);do w+=s[y.data.index];while(y=y.next)}d.value=w}function g(d,w,y,h,_){if(!d.value)return!0;var v=[y,h,_][n-1],m=d.x-e.x,x=n>1?d.y-e.y:0,b=n>2?d.z-e.z:0,E=v-w,P=m*m+x*x+b*b;if(E*E/u<P)return P<l&&(m===0&&(m=et(r),P+=m*m),n>1&&x===0&&(x=et(r),P+=x*x),n>2&&b===0&&(b=et(r),P+=b*b),P<a&&(P=Math.sqrt(a*P)),e.vx+=m*d.value*i/P,n>1&&(e.vy+=x*d.value*i/P),n>2&&(e.vz+=b*d.value*i/P)),!0;if(d.length||P>=l)return;(d.data!==e||d.next)&&(m===0&&(m=et(r),P+=m*m),n>1&&x===0&&(x=et(r),P+=x*x),n>2&&b===0&&(b=et(r),P+=b*b),P<a&&(P=Math.sqrt(a*P)));do d.data!==e&&(E=s[d.data.index]*i/P,e.vx+=m*E,n>1&&(e.vy+=x*E),n>2&&(e.vz+=b*E));while(d=d.next)}return c.initialize=function(d,...w){t=d,r=w.find(y=>typeof y=="function")||Math.random,n=w.find(y=>[1,2,3].includes(y))||2,f()},c.strength=function(d){return arguments.length?(o=typeof d=="function"?d:j(+d),f(),c):o},c.distanceMin=function(d){return arguments.length?(a=d*d,c):Math.sqrt(a)},c.distanceMax=function(d){return arguments.length?(l=d*d,c):Math.sqrt(l)},c.theta=function(d){return arguments.length?(u=d*d,c):Math.sqrt(u)},c}function We(t,n,e,r){var i,o,s=j(.1),a,l;typeof t!="function"&&(t=j(+t)),n==null&&(n=0),e==null&&(e=0),r==null&&(r=0);function u(f){for(var p=0,g=i.length;p<g;++p){var d=i[p],w=d.x-n||1e-6,y=(d.y||0)-e||1e-6,h=(d.z||0)-r||1e-6,_=Math.sqrt(w*w+y*y+h*h),v=(l[p]-_)*a[p]*f/_;d.vx+=w*v,o>1&&(d.vy+=y*v),o>2&&(d.vz+=h*v)}}function c(){if(i){var f,p=i.length;for(a=new Array(p),l=new Array(p),f=0;f<p;++f)l[f]=+t(i[f],f,i),a[f]=isNaN(l[f])?0:+s(i[f],f,i)}}return u.initialize=function(f,...p){i=f,o=p.find(g=>[1,2,3].includes(g))||2,c()},u.strength=function(f){return arguments.length?(s=typeof f=="function"?f:j(+f),c(),u):s},u.radius=function(f){return arguments.length?(t=typeof f=="function"?f:j(+f),c(),u):t},u.x=function(f){return arguments.length?(n=+f,u):n},u.y=function(f){return arguments.length?(e=+f,u):e},u.z=function(f){return arguments.length?(r=+f,u):r},u}function ro(t){var n=j(.1),e,r,i;typeof t!="function"&&(t=j(t==null?0:+t));function o(a){for(var l=0,u=e.length,c;l<u;++l)c=e[l],c.vx+=(i[l]-c.x)*r[l]*a}function s(){if(e){var a,l=e.length;for(r=new Array(l),i=new Array(l),a=0;a<l;++a)r[a]=isNaN(i[a]=+t(e[a],a,e))?0:+n(e[a],a,e)}}return o.initialize=function(a){e=a,s()},o.strength=function(a){return arguments.length?(n=typeof a=="function"?a:j(+a),s(),o):n},o.x=function(a){return arguments.length?(t=typeof a=="function"?a:j(+a),s(),o):t},o}function Ue(t){var n=j(.1),e,r,i;typeof t!="function"&&(t=j(t==null?0:+t));function o(a){for(var l=0,u=e.length,c;l<u;++l)c=e[l],c.vy+=(i[l]-c.y)*r[l]*a}function s(){if(e){var a,l=e.length;for(r=new Array(l),i=new Array(l),a=0;a<l;++a)r[a]=isNaN(i[a]=+t(e[a],a,e))?0:+n(e[a],a,e)}}return o.initialize=function(a){e=a,s()},o.strength=function(a){return arguments.length?(n=typeof a=="function"?a:j(+a),s(),o):n},o.y=function(a){return arguments.length?(t=typeof a=="function"?a:j(+a),s(),o):t},o}function io(t){var n=j(.1),e,r,i;typeof t!="function"&&(t=j(t==null?0:+t));function o(a){for(var l=0,u=e.length,c;l<u;++l)c=e[l],c.vz+=(i[l]-c.z)*r[l]*a}function s(){if(e){var a,l=e.length;for(r=new Array(l),i=new Array(l),a=0;a<l;++a)r[a]=isNaN(i[a]=+t(e[a],a,e))?0:+n(e[a],a,e)}}return o.initialize=function(a){e=a,s()},o.strength=function(a){return arguments.length?(n=typeof a=="function"?a:j(+a),s(),o):n},o.z=function(a){return arguments.length?(t=typeof a=="function"?a:j(+a),s(),o):t},o}const Ht={fx:null,fy:null,fz:null,x:null,y:null,z:null,vx:null,vy:null,vz:null},oo={addNodesAndLinks:()=>{},setForces:()=>{},addRadialForce:()=>{},addDefaultForce:()=>{},addClusterForce:()=>{},addSplitForce:()=>{},simulationRestart:()=>{},getLinks:()=>[]},so={data:null,simulationVersion:0,simulation:null,selectionGraphData:{nodes:[],links:[]},disableCameraRotation:!0,scrollEventsDisabled:!1,graphRadius:1500,selectionGraphRadius:200,graphStyle:"sphere",hoveredNode:null,hoveredNodeSiblings:[],selectedNodeSiblings:[],selectedNode:null,activeEdge:null,cameraFocusTrigger:!1,showSelectionGraph:!1,simulationHelpers:oo,isHovering:!1,selectionPath:[],activeNode:null,highlightNodes:[],searchQuery:"",selectedNodeTypes:[],selectedLinkTypes:[]},Ot=Ye()((t,n)=>({...so,setData:e=>{t({data:e})},setSelectedNodeTypes:e=>{const{selectedNodeTypes:r}=n(),i=r.includes(e)?r.filter(o=>o!==e):[...r,e];t({selectedNodeTypes:i})},setSelectedLinkTypes:e=>{const{selectedLinkTypes:r}=n(),i=r.includes(e)?r.filter(o=>o!==e):[...r,e];t({selectedLinkTypes:i})},updateSimulationVersion:()=>{const{simulationVersion:e}=n();t({simulationVersion:e+1})},resetSelectedNodeTypes:()=>t({selectedNodeTypes:[]}),resetSelectedLinkTypes:()=>t({selectedLinkTypes:[]}),setSelectionData:e=>t({selectionGraphData:e}),setScrollEventsDisabled:e=>t({scrollEventsDisabled:e}),setDisableCameraRotation:e=>t({disableCameraRotation:e}),setIsHovering:e=>t({isHovering:e}),setGraphRadius:e=>t({graphRadius:e}),setSelectionGraphRadius:e=>t({selectionGraphRadius:e}),setGraphStyle:e=>t({graphStyle:"sphere"}),setHoveredNode:e=>{const{nodesNormalized:r}=$t.getState()||{};if(e){const i=r.get(e.ref_id),o=[...(i==null?void 0:i.targets)||[],...(i==null?void 0:i.sources)||[]];t({hoveredNode:e,hoveredNodeSiblings:o})}else t({hoveredNode:e,hoveredNodeSiblings:[]})},setActiveEdge:e=>{t({activeEdge:e})},setActiveNode:e=>{t({activeNode:e})},setHighlightNodes:e=>{t({highlightNodes:e})},addToSelectionPath:e=>{const{selectionPath:r}=n();t({selectionPath:[...r,e]})},setSelectedNode:e=>{var a;const{nodesNormalized:r}=$t.getState()||{};e||t({hoveredNode:null,selectedNode:null,disableCameraRotation:!1,showSelectionGraph:!1,selectionPath:[]});const{selectedNode:i,simulation:o,selectionPath:s}=n();if((i==null?void 0:i.ref_id)!==(e==null?void 0:e.ref_id)){const l=((a=o==null?void 0:o.nodes())==null?void 0:a.find(u=>u.ref_id===(e==null?void 0:e.ref_id)))||null;if(e!=null&&e.ref_id&&l){const u=r==null?void 0:r.get(e==null?void 0:e.ref_id);t({hoveredNode:null,selectedNode:{...l,...u||{}},disableCameraRotation:!0,selectionPath:[...s,l.ref_id],selectedNodeSiblings:[...(u==null?void 0:u.sources)||[],...(u==null?void 0:u.targets)||[]]})}}},setCameraFocusTrigger:e=>t({cameraFocusTrigger:e}),setShowSelectionGraph:e=>t({showSelectionGraph:e}),simulationHelpers:{addNodesAndLinks:(e,r,i)=>{const{simulation:o,simulationHelpers:s}=n();console.log(o.nodes()),console.log(e),o.stop();const a=structuredClone(e),l=structuredClone(r);o.stop();const u=i?[]:o.nodes(),c=i?[]:o.force("link").links();u.push(...a),c.push(...l),o.nodes(u),o.force("link").links([]).links(c),s.simulationRestart();try{console.log("try")}catch(f){console.error(f)}},addRadialForce:()=>{const{simulation:e}=n();e.nodes(e.nodes().map(r=>({...r,...Ht}))).force("y",null).force("charge",Ge().strength(r=>(r.scale||1)*-5)).force("x",ro().strength(0)).force("y",Ue().strength(0)).force("z",io().strength(0)).force("link",Fe().links(e.force("link").links().map(r=>({...r,source:r.source.ref_id,target:r.target.ref_id}))).strength(1).distance(400).id(r=>r.ref_id)).force("collide",ne().radius(r=>(r.scale||1)*95).strength(.5).iterations(1))},addClusterForce:()=>{const{simulation:e,highlightNodes:r}=n();e.nodes(e.nodes().map(i=>({...i,...Ht}))).force("cluster",We(i=>r.includes(i.ref_id)?25:500).strength(1))},addDefaultForce:()=>{const{simulation:e}=n();e.nodes(e.nodes().map(r=>({...r,...Ht}))).force("y",null).force("charge",Ge().strength(-20)).force("center",Wr().strength(1)).force("collide",ne().radius(()=>250).strength(1).iterations(1))},addSplitForce:()=>{const{simulation:e}=n(),{nodeTypes:r}=$t.getState();e.stop().nodes(e.nodes().map(i=>({...i,...Ht}))).force("radial",We(200,0,0,0).strength(.1)).force("collide",ne().radius(()=>250).strength(1).iterations(1)).force("y",Ue().y(i=>{const o=r.indexOf(i.node_type),s=Math.floor(o/2)*400;return o%2===0?s:-s}).strength(10))},getLinks:()=>{const{simulation:e}=n();return e?e.force("link").links():[]},setForces:()=>{const{graphStyle:e,simulationHelpers:r}=n();e==="split"&&r.addSplitForce(),e==="sphere"&&r.addRadialForce(),e==="force"&&r.addDefaultForce(),r.simulationRestart()},simulationRestart:()=>{const{simulation:e}=n();e.alpha(1).restart()}},simulationCreate:(e,r)=>{const i=structuredClone(e),o=structuredClone(r),s=no([]).numDimensions(3).stop().nodes(i).force("link",Fe().strength(0).links(o).id(a=>a.ref_id));t({simulation:s})},removeSimulation:()=>t({simulation:null}),setSearchQuery:e=>t({searchQuery:e})})),gn=()=>Ot(t=>t.selectedNode),Ao=()=>Ot(t=>t.hoveredNode),ao=()=>(Ot(Gr(t=>[t.graphStyle,t.setGraphStyle])),null);V(pt).attrs({direction:"row",align:"center",justify:"space-between"})`
  padding: 6px 6px 6px 11px;
  background: ${it.BG1};
  border-radius: 200px;
  .icon {
    color: ${it.GRAY6};
    font-size: 20px;
    cursor: pointer;

    &:hover {
      color: ${it.GRAY3};
    }

    &:active {
      color: ${it.white};
    }

    &.active {
      color: ${it.white};
    }
  }

  .icon + .icon {
    margin-left: 20px;
  }
`;const lo=t=>k.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 18 17",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:k.jsxs("g",{id:"center",children:[k.jsx("path",{id:"Vector 121",d:"M9 4L9 1",stroke:"white","stroke-linecap":"round"}),k.jsx("path",{id:"Vector 123",d:"M14 9H17",stroke:"white","stroke-linecap":"round"}),k.jsx("path",{id:"Vector 122",d:"M9 16L9 14",stroke:"white","stroke-linecap":"round"}),k.jsx("path",{id:"Vector 124",d:"M1 9L4 9",stroke:"white","stroke-linecap":"round"}),k.jsx("circle",{id:"Ellipse 2",cx:"9.00001",cy:"9.00001",r:"5.02857",stroke:"white"})]})}),co=()=>{const t=Ot(e=>e.cameraFocusTrigger),n=Ot(e=>e.setCameraFocusTrigger);return k.jsx(uo,{href:"",onClick:()=>n(!t),size:"medium",startIcon:k.jsx(lo,{})})},uo=V(Ke)`
  && {
    padding: 0;
    width: 32px;
    min-width: auto;
    justify-content: center;
    align-items: center;
    pointer-events: all;

    .MuiButton-startIcon {
      margin-left: 0;
      filter: brightness(0.65);
    }
  }
`,vn=V.div`
  position: relative;
  display: inline-flex;
  align-items: center;
`,fo=V.div`
  visibility: hidden;
  width: auto;
  background-color: ${({backgroundColor:t})=>t||"white"};
  color: ${({color:t})=>t||"black"};
  text-align: ${({textAlign:t})=>t||"center"};
  min-width: ${({minWidth:t})=>t||"auto"};
  border-radius: ${({borderRadius:t})=>t||"4px"};
  padding: ${({padding:t})=>t||"5px 8px"};
  position: absolute;
  z-index: 1;
  ${({position:t})=>{switch(t){case"top":return"bottom: 100%; left: 50%; transform: translateX(-50%);";case"left":return"right: calc(100% + 6px); top: 50%; transform: translateY(-50%);";default:return"top: 100%; left: 50%; transform: translateX(-50%);"}}}
  margin-top: ${({margin:t})=>t||"0px"};
  opacity: 0;
  transition: opacity 0.3s;
  white-space: ${({whiteSpace:t})=>t||"nowrap"};
  overflow: hidden;
  text-overflow: ellipsis;
  font-size: ${({fontSize:t})=>t||"12px"};
  font-weight: ${({fontWeight:t})=>t||"600"};

  ${vn}:hover & {
    visibility: visible;
    opacity: 1;
  }
`,ho=({content:t,children:n,margin:e,backgroundColor:r,color:i,padding:o,fontSize:s,fontWeight:a,borderRadius:l,minWidth:u,whiteSpace:c,position:f,textAlign:p})=>k.jsxs(vn,{children:[n,k.jsx(fo,{backgroundColor:r,borderRadius:l,color:i,fontSize:s,fontWeight:a,margin:e,minWidth:u,padding:o,position:f,textAlign:p,whiteSpace:c,children:t})]}),po=()=>{const{resetGraph:t}=$t(n=>n);return k.jsx(ho,{content:"Clear Graph",fontSize:"13px",position:"left",children:k.jsx(go,{href:"",onClick:()=>t(),size:"medium",startIcon:k.jsx(Ze,{})})})},go=V(Ke)`
  && {
    padding: 0;
    width: 32px;
    min-width: auto;
    justify-content: center;
    align-items: center;
    pointer-events: all;

    .MuiButton-startIcon {
      margin-left: 0;
      color: #fff;
      filter: brightness(0.65);
    }
  }
`,vo=t=>k.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 38 38",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:k.jsx("g",{id:"Property 1=Pause Normal",children:k.jsx("path",{id:"Pause",d:"M19 3C10.15 3 3 10.15 3 19C3 27.85 10.15 35 19 35C27.85 35 35 27.85 35 19C35 10.15 27.8 3 19 3ZM17.25 23.3C17.25 24.25 16.5 25.05 15.5 25.05C14.55 25.05 13.75 24.3 13.75 23.3V14.65C13.75 13.7 14.5 12.9 15.5 12.9C16.45 12.9 17.25 13.65 17.25 14.65V23.3ZM24.2 23.3C24.2 24.25 23.45 25.05 22.45 25.05C21.5 25.05 20.7 24.3 20.7 23.3V14.65C20.7 13.7 21.45 12.9 22.45 12.9C23.4 12.9 24.2 13.65 24.2 14.65V23.3Z",fill:"currentColor"})})}),xo=t=>k.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 38 38",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:k.jsx("g",{id:"Play & Pause",children:k.jsx("path",{id:"Play",d:"M19 3C10.1606 3 3 10.1606 3 19C3 27.8394 10.1606 35 19 35C27.8394 35 35 27.8394 35 19C35 10.1606 27.8338 3 19 3ZM24.0746 20.0898L16.936 24.6361C16.182 25.1149 15.1913 24.5755 15.1913 23.6784V14.5913C15.1913 13.6942 16.182 13.1548 16.936 13.6336L24.0746 18.1799C24.7736 18.6202 24.7736 19.644 24.0746 20.0898Z",fill:"currentColor"})})}),yo=()=>{const t=wn(),n=_n(),[e]=bn();return{navigateToNode:r=>{const i=new URLSearchParams(e);r?i.set("node",r):i.delete("node"),t(`${n.pathname}?${i.toString()}`,{replace:!0})}}},St={isPlaying:!1,miniPlayerIsVisible:!1,hasError:!1,isSeeking:!1,playingTime:0,playingNode:null,duration:0,volume:.5,playbackSpeed:1,playerRef:null},mo=Ye()(En((t,n)=>({...St,setIsSeeking:e=>t({isSeeking:e}),setIsPlaying:e=>t({isPlaying:e}),setPlayerRef:e=>t({playerRef:e}),setMiniPlayerIsVisible:e=>{t(e?{miniPlayerIsVisible:e}:{miniPlayerIsVisible:e,isPlaying:!1})},setHasError:e=>t({hasError:e}),setPlayingTime:e=>t({playingTime:e}),setDuration:e=>t({duration:e}),setVolume:e=>t({volume:e}),setPlayingNodeLink:e=>{const{playingNode:r}=n();r&&t({playingNode:{...r,link:e}})},setPlayingNode:e=>{e||t({...St});const r=n().playingNode;(r==null?void 0:r.ref_id)!==(e==null?void 0:e.ref_id)&&t({...St,miniPlayerIsVisible:!0,playingNode:e})},resetPlayer:()=>t({duration:St.duration,hasError:St.hasError}),setPlaybackSpeed:e=>t({playbackSpeed:e})}))),wo=()=>{var m,x,b,E,P;const t=T.useRef(null),[n,e]=T.useState(0),r=gn(),{navigateToNode:i}=yo(),[o,s]=Qe(S=>[S.sidebarIsOpen,S.setSidebarOpen]),[a,l,u,c,f,p]=mo(S=>[S.isPlaying,S.setIsPlaying,S.playingTime,S.playingNode,S.miniPlayerIsVisible,S.setMiniPlayerIsVisible]),[g,d]=(m=c==null?void 0:c.properties)!=null&&m.timestamp?c.properties.timestamp.split("-").map(S=>Cn(S)):[0,0],w=(u-g)/(d-g)*100;T.useEffect(()=>{var I,C;const S=((I=t.current)==null?void 0:I.offsetWidth)||0,$=((C=t.current)==null?void 0:C.scrollWidth)||0;e($-S)},[]);const y=S=>{p(!1),S.stopPropagation()},h=()=>{i((c==null?void 0:c.ref_id)||null),s(!0)},_=o&&(r==null?void 0:r.ref_id)!==(c==null?void 0:c.ref_id)||c&&!o,v=((x=window.location)==null?void 0:x.hostname)==="graphmindset.sphinx.chat";return f&&c&&_&&!v?k.jsxs(_o,{onClick:h,children:[k.jsxs(bo,{children:[k.jsx(kn,{src:((b=c==null?void 0:c.properties)==null?void 0:b.image_url)||"",type:c.node_type}),k.jsxs(Eo,{children:[k.jsxs(Co,{ref:t,children:[k.jsx(So,{className:"title",scrollValue:n,children:(E=c==null?void 0:c.properties)==null?void 0:E.episode_title}),k.jsx("div",{className:"subtitle",children:(P=c==null?void 0:c.properties)==null?void 0:P.show_title})]}),k.jsx(ko,{"data-testid":"play-pause-button",onClick:S=>{l(!a),S.stopPropagation()},size:"small",children:a?k.jsx(vo,{"data-testid":"pause-icon"}):k.jsx(xo,{"data-testid":"play-icon"})})]}),k.jsx(Po,{onClick:S=>y(S),children:k.jsx(Ze,{})})]}),k.jsx(To,{value:w,variant:"determinate"})]}):null},_o=V(pt).attrs({direction:"column",align:"stretch",justify:"space-between"})`
  padding: 8px;
  background: ${it.BG1};
  border-radius: 6px;
  width: 320px;
  height: 72px;
  margin-top: 16px;
  cursor: pointer;
  z-index: 0;
`,bo=V(pt).attrs({direction:"row",align:"center",justify:"flex-start"})``,Eo=V(pt).attrs({direction:"row",align:"center",justify:"space-between"})`
  flex: 1;
  color: ${it.white};
  margin-left: 11px;

  .title {
    font-size: 13px;
    margin-bottom: 2px;
    font-weight: 500;
  }

  .subtitle {
    font-size: 11px;
    color: ${it.GRAY6};
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
  }
`,Po=V(en)`
  padding: 8px;
  color: ${it.GRAY6};
  z-index: 100000;
`,ko=V(en)`
  && {
    font-size: 36px;
    padding: 2px;
    margin-left: 8px;
    overflow: hidden;
    z-index: 100000;
  }
`,To=V(Pn)`
  && {
    flex-shrink: 0;
    height: 2px;
    background-color: ${it.white};
    color: blue;

    .MuiLinearProgress-bar {
      background: rgb(65, 90, 127);
    }
  }
`,So=V.div`
  white-space: nowrap;
  overflow: hidden;
  width: max-content;
  animation: scrollText 12s linear infinite;

  @keyframes scrollText {
    0%,
    15% {
      transform: translateX(0);
    }

    60%,
    75% {
      transform: translateX(${t=>-t.scrollValue}px);
    }

    100% {
      transform: translateX(0);
    }
  }
  color: #fff;
`,Co=V(pt)`
  overflow: hidden;
  flex: 1;
`,No=()=>{const t=gn(),n=$t(i=>i.isFetching),e=Qe(i=>i.universeQuestionIsOpen),{isAdmin:r}=Tn(i=>i);return k.jsxs(Ro,{align:"flex-end",id:"actions-toolbar",children:[k.jsxs(Mo,{children:[!n&&!e&&r&&k.jsx(po,{}),!n&&!e&&k.jsx(co,{})]}),k.jsx(pt,{align:"center",direction:"row",mt:16,children:!n&&!e&&k.jsx(ao,{})}),k.jsx(wo,{},t==null?void 0:t.ref_id)]})},Ro=V(pt)`
  position: absolute;
  right: 20px;
  bottom: 20px;
  pointer-events: all;
`,Mo=V.div`
  display: flex;
  flex-direction: column;
  gap: 4px;
`,Oo=()=>k.jsx($o,{children:k.jsx(No,{})}),$o=V("div")(({theme:t})=>({position:"absolute",zIndex:1,top:0,left:0,userSelect:"none",pointerEvents:"none",display:"flex",justifyContent:"flex-end",alignItems:"flex-start",height:"100%",width:"100%",padding:"16px",paddingRight:"0",overflow:"hidden",[t.breakpoints.down("sm")]:{top:50}})),Do=()=>{const t=T.useContext(Sn);return t==null?void 0:t.socket};export{No as A,Rn as B,lo as C,Lr as D,ir as E,zr as G,en as I,Oo as O,Io as P,ho as T,mo as a,vo as b,xo as c,Ot as d,gn as e,Ao as f,yo as g,Gr as h,rn as i,It as j,Je as k,Nn as l,Wt as m,nn as n,ot as o,Ut as p,Un as q,tn as r,Fn as s,Fe as t,Do as u,Cn as v,Ge as w,Wr as x,ne as y,no as z};
